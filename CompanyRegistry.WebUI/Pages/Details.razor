@page "/company/new"
@page "/company/{id}"

@inherits DetailsBase

@if (string.IsNullOrWhiteSpace(Id))
{
    <h3>Create new company</h3>
}
else
{
    <h3>Edit company</h3>
}

@if (!string.IsNullOrWhiteSpace(CompanyDetailsModel.ErrorMessage) || !string.IsNullOrWhiteSpace(CompanyDetailsModel.SuccessMEssage))
{
    <div class="row">
        <div class="col-sm-12">
            @if (CompanyDetailsModel.IsError)
            {
                <div class="alert alert-danger">
                    @CompanyDetailsModel.ErrorMessage
                </div>
            }
            else
            {
                <div class="alert alert-success">
                    @CompanyDetailsModel.SuccessMEssage
                </div>
            }
        </div>
    </div>
}

<EditForm Model="CompanyDetailsModel" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group row"></div>

    <div class="form-group row">
        <label for="staticEmail" class="col-sm-2 col-form-label">
            Company ID:
        </label>
        <div class="col-sm-10">
            @CompanyDetailsModel.Company.Id
        </div>
    </div>

    <div class="form-group row">
        <label for="staticEmail" class="col-sm-2 col-form-label">
            Company Name:
        </label>
        <div class="col-sm-10">
            <InputText @bind-Value="CompanyDetailsModel.Company.Name" class="form-control" />
        </div>
    </div>

    <div class="form-group row">
        <label for="staticEmail" class="col-sm-2 col-form-label">
            Company VAT Number:
        </label>
        <div class="col-sm-10">
            <InputText @bind-Value="CompanyDetailsModel.Company.VAT" class="form-control" />
        </div>
    </div>

    <button type="submit" class="btn btn-outline-primary">Submit</button>
</EditForm>

<div class="row mb-3">
    <div class="col-sm-12">
        <a href="">Back to list</a>
    </div>
</div>